<div class="space-y-8 max-w-200 m-auto card shadow-md p-4 rounded-2xl">
  <div class="space-y-3">
    <h2 class="text-lg font-semibold dark:text-gray-300 text-gray-600 mb-2">{{ content().headline }}</h2>

    @if (loading()) {
      <div class="bg-neutral shadow-md p-4 rounded-lg skeleton min-h-20"></div>
      <div class="bg-neutral shadow-md p-4 rounded-lg skeleton min-h-20"></div>
      <div class="bg-neutral shadow-md p-4 rounded-lg skeleton min-h-20"></div>
    }

    @if (!loading()) {
      @if (!appointments(); as appointments) {
        <span class="neutral-content text-sm">{{ content().emptyMessage }}</span>
      }
      @if (appointments(); as appointments) {
        @for (appointment of appointments; track appointment.id) {
          @if (appointment.allDay) {
            <div
              class="flex items-center justify-between bg-neutral shadow-md p-4 rounded-2xl border-b-4 {{
                appointment.borderColorClass
              }}"
            >
              <div class="flex flex-col">
                @if (appointment.topHeadline) {
                  <span class="neutral-content text-sm">{{ appointment.topHeadline }}</span>
                }
                <span class="font-semibold neutral-content">{{ appointment.headline }}</span>
                @if (appointment.subHeadline) {
                  <span class="neutral-content text-sm">{{ appointment.subHeadline }}</span>
                }
              </div>
            </div>
          }
        }

        <ul class="timeline timeline-vertical">
          @for (appointment of appointments; track appointment.id) {
            @if (!appointment.allDay) {
              <li style="--timeline-col-start: 70px">
                <hr [class.bg-base-300]="!appointment.past" [class.bg-base-300/40]="appointment.past" />
                <div class="timeline-start w-full m-0" [class.opacity-50]="appointment.past">
                  {{ appointment.time }} Uhr
                </div>
                <div
                  class="timeline-middle mx-2"
                  [class.text-base-content]="!appointment.past"
                  [class.text-base-content/40]="appointment.past"
                >
                  @if (appointment.past) {
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-8">
                      <path
                        fill-rule="evenodd"
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  } @else {
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8">
                      <path
                        fill-rule="evenodd"
                        d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  }
                </div>
                <div class="timeline-end m-0 w-full my-2" [class.opacity-50]="appointment.past">
                  <div
                    class="flex items-center justify-between bg-neutral shadow-md p-4 rounded-2xl border-b-4 {{
                      appointment.borderColorClass
                    }}"
                  >
                    <div class="flex flex-col">
                      @if (appointment.topHeadline) {
                        <span class="neutral-content text-sm">{{ appointment.topHeadline }}</span>
                      }
                      <span class="font-semibold neutral-content">{{ appointment.headline }}</span>
                      @if (appointment.subHeadline) {
                        <span class="neutral-content text-sm">{{ appointment.subHeadline }}</span>
                      }
                    </div>
                  </div>
                </div>
                <hr [class.bg-base-300]="!appointment.past" [class.bg-base-300/40]="appointment.past" />
              </li>
            }
          }
        </ul>
      }
    }
  </div>
</div>
