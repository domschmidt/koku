@if (!valueOnly()) {
  <label class="w-full" [attr.for]="id">
    @if (label(); as label) {
      <div class="label">
        <span class="label-text">{{ label }}</span>
      </div>
    }
  </label>
  <div class="join w-full flex">
    <ng-content select="prepend-outer"></ng-content>
    <div class="flex w-full input join-item">
      <ng-content select="prepend-inner"></ng-content>
      <input
        [name]="name()"
        [type]="type().toLowerCase()"
        [attr.disabled]="disabled() ? '' : null"
        [attr.placeholder]="placeholder() || null"
        [attr.readonly]="readonly() || null"
        [class.skeleton]="loading()"
        [value]="!loading() ? value() : defaultValue()"
        [attr.required]="required() ? true : null"
        (change)="onChangeRaw($event)"
        (input)="onInputRaw($event)"
        (blur)="onBlur.emit()"
        (focus)="onFocus.emit()"
        [attr.min]="min() !== undefined ? min() : null"
        [attr.max]="max() !== undefined ? max() : null"
        [attr.id]="id"
        class="block"
      />
      <ng-content select="append-inner"></ng-content>
    </div>
    <ng-content select="append-outer"></ng-content>
  </div>
} @else {
  @if (loading()) {
    <div class="skeleton w-full bg-neutral content-center" style="--radius-box: 0">&nbsp;</div>
  } @else {
    @if (value(); as value) {
      <div class="content-center {{ cls() }}">
        @if (type() === 'DATETIME') {
          {{ value | date: "dd.MM.yyyy HH:mm 'Uhr'" }}
        } @else if (type() === 'DATE') {
          {{ value | date: 'dd.MM.yyyy' }}
        } @else if (type() === 'TIME') {
          {{ value | date: "HH:mm 'Uhr'" }}
        } @else {
          {{ value }}
        }
      </div>
    }
  }
}
